<!DOCTYPE html>
<html>
<head>
    <title>TextBlock with Images - External</title>
    <meta charset="UTF-8">
    <script src="https://cdn.plot.ly/plotly-2.35.2.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apache-arrow@14.0.1/Arrow.es2015.min.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
        }
        #controls {
            display: flex;
            flex-wrap: wrap;
            margin-bottom: 20px;
            padding: 10px;
            background-color: #f0f0f0;
            border-radius: 5px;
        }
        #$div_id {
            width: 100%;
            height: 600px;
        }
    </style>
        <style>
        .textblock-content {
            padding: 20px;
            margin: 10px 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: #333;
        }

        .textblock-content h1 {
            font-size: 2em;
            margin-top: 0.5em;
            margin-bottom: 0.5em;
            font-weight: 600;
        }

        .textblock-content h2 {
            font-size: 1.5em;
            margin-top: 0.5em;
            margin-bottom: 0.5em;
            font-weight: 600;
        }

        .textblock-content h3 {
            font-size: 1.25em;
            margin-top: 0.5em;
            margin-bottom: 0.5em;
            font-weight: 600;
        }

        .textblock-content p {
            margin: 0.5em 0;
        }

        .textblock-content ul, .textblock-content ol {
            margin: 0.5em 0;
            padding-left: 2em;
        }

        .textblock-content code {
            background-color: #f5f5f5;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        .textblock-content pre {
            background-color: #f5f5f5;
            padding: 10px;
            border-radius: 5px;
            overflow-x: auto;
        }

        .textblock-content pre code {
            background-color: transparent;
            padding: 0;
        }

        .textblock-content blockquote {
            border-left: 4px solid #ddd;
            padding-left: 1em;
            margin-left: 0;
            color: #666;
        }

        .textblock-content a {
            color: #0066cc;
            text-decoration: none;
        }

        .textblock-content a:hover {
            text-decoration: underline;
        }

        .textblock-content table {
            border-collapse: collapse;
            width: 100%;
            margin: 1em 0;
        }

        .textblock-content th, .textblock-content td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }

        .textblock-content th {
            background-color: #f5f5f5;
            font-weight: 600;
        }
    </style>


    <!-- external libs -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.11/c3.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.11/c3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-csv/0.71/jquery.csv-0.71.min.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pivottable/2.19.0/pivot.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pivottable/2.19.0/pivot.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pivottable/2.19.0/d3_renderers.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pivottable/2.19.0/c3_renderers.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pivottable/2.19.0/export_renderers.min.js"></script>
</head>

<body>

<script src="https://cdn.plot.ly/plotly-2.35.2.min.js"></script>

<script type="module">
// Import parquet-wasm for Parquet file support
import * as parquet from 'https://unpkg.com/parquet-wasm@0.6.1/esm/parquet_wasm.js';

// Initialize parquet-wasm
await parquet.default();

// Make parquet available globally for loadDataset
window.parquetWasm = parquet;
window.parquetReady = true;
console.log('Parquet-wasm library loaded successfully');
</script>

<script>
// Helper function to wait for parquet-wasm to be loaded
function waitForParquet() {
    return new Promise(function(resolve) {
        if (window.parquetReady) {
            resolve();
            return;
        }
        var checkInterval = setInterval(function() {
            if (window.parquetReady) {
                clearInterval(checkInterval);
                resolve();
            }
        }, 50);
    });
}

// Centralized data loading function
// This function parses data from embedded or external sources and returns a Promise
// Supports CSV (embedded/external), JSON (embedded/external), and Parquet (external) formats
// Usage: loadDataset('dataLabel').then(function(data) { /* use data */ });
function loadDataset(dataLabel) {
    return new Promise(function(resolve, reject) {
        var dataElement = document.getElementById(dataLabel);
        if (!dataElement) {
            reject(new Error('Data element not found: ' + dataLabel));
            return;
        }

        var format = dataElement.getAttribute('data-format') || 'csv_embedded';
        var dataSrc = dataElement.getAttribute('data-src');

        // Handle external JSON files
        if (format === 'json_external' && dataSrc) {
            fetch(dataSrc)
                .then(function(response) {
                    if (!response.ok) {
                        throw new Error('Failed to load ' + dataSrc + ': ' + response.statusText);
                    }
                    return response.json();
                })
                .then(function(data) {
                    resolve(data);
                })
                .catch(function(error) {
                    console.error('Error loading external JSON:', error);
                    reject(error);
                });
            return;
        }

        // Handle external Parquet files
        if (format === 'parquet' && dataSrc) {
            // Wait for parquet-wasm to be loaded first
            waitForParquet()
                .then(function() {
                    return fetch(dataSrc);
                })
                .then(function(response) {
                    if (!response.ok) {
                        throw new Error('Failed to load ' + dataSrc + ': ' + response.statusText);
                    }
                    return response.arrayBuffer();
                })
                .then(function(arrayBuffer) {
                    // Use parquet-wasm to read the file
                    var uint8Array = new Uint8Array(arrayBuffer);

                    // readParquet returns an Arrow Table
                    var wasmTable = window.parquetWasm.readParquet(uint8Array);

                    // Convert to Arrow IPC stream
                    var ipcStream = wasmTable.intoIPCStream();

                    // Use Apache Arrow JS to read the IPC stream
                    var arrowTable = window.Arrow.tableFromIPC(ipcStream);

                    // Convert Arrow Table to array of JavaScript objects
                    var data = [];
                    for (var i = 0; i < arrowTable.numRows; i++) {
                        var row = {};
                        arrowTable.schema.fields.forEach(function(field) {
                            var column = arrowTable.getChild(field.name);
                            var value = column.get(i);

                            // Convert BigInt to Number (Arrow returns BigInt for Int64)
                            if (typeof value === 'bigint') {
                                value = Number(value);
                            }

                            row[field.name] = value;
                        });
                        data.push(row);
                    }

                    resolve(data);
                })
                .catch(function(error) {
                    console.error('Error loading external Parquet:', error);
                    reject(error);
                });
            return;
        }

        // Handle external CSV files
        if (format === 'csv_external' && dataSrc) {
            fetch(dataSrc)
                .then(function(response) {
                    if (!response.ok) {
                        throw new Error('Failed to load ' + dataSrc + ': ' + response.statusText);
                    }
                    return response.text();
                })
                .then(function(csvText) {
                    Papa.parse(csvText, {
                        header: true,
                        dynamicTyping: true,
                        skipEmptyLines: true,
                        complete: function(results) {
                            // Check for fatal errors only (not warnings)
                            var fatalErrors = results.errors.filter(function(err) {
                                return err.type !== 'Delimiter';
                            });

                            if (fatalErrors.length > 0) {
                                console.error('CSV parsing errors:', fatalErrors);
                                reject(fatalErrors);
                            } else if (results.data && results.data.length > 0) {
                                resolve(results.data);
                            } else {
                                reject(new Error('No data parsed from CSV'));
                            }
                        },
                        error: function(error) {
                            console.error('CSV parsing error:', error);
                            reject(error);
                        }
                    });
                })
                .catch(function(error) {
                    console.error('Error loading external CSV:', error);
                    reject(error);
                });
            return;
        }

        // Handle embedded data
        var dataText = dataElement.textContent.trim();

        if (format === 'json_embedded') {
            // Parse JSON data
            try {
                var data = JSON.parse(dataText);
                resolve(data);
            } catch (error) {
                console.error('JSON parsing error:', error);
                reject(error);
            }
        } else if (format === 'csv_embedded') {
            // Parse CSV data using PapaParse
            Papa.parse(dataText, {
                header: true,
                dynamicTyping: true,
                skipEmptyLines: true,
                complete: function(results) {
                    // Check for fatal errors only (not warnings)
                    // PapaParse includes non-fatal warnings in errors array
                    var fatalErrors = results.errors.filter(function(err) {
                        // Filter out delimiter detection warnings - these aren't fatal
                        // (common for single-column CSVs)
                        return err.type !== 'Delimiter';
                    });

                    if (fatalErrors.length > 0) {
                        console.error('CSV parsing errors:', fatalErrors);
                        reject(fatalErrors);
                    } else if (results.data && results.data.length > 0) {
                        resolve(results.data);
                    } else {
                        reject(new Error('No data parsed from CSV'));
                    }
                },
                error: function(error) {
                    console.error('CSV parsing error:', error);
                    reject(error);
                }
            });
        } else {
            reject(new Error('Unsupported data format: ' + format));
        }
    });
}

$(function(){

    (function() {
    // Plotly default colors
    const plotlyColors = [
        'rgb(31, 119, 180)', 'rgb(255, 127, 14)', 'rgb(44, 160, 44)',
        'rgb(214, 39, 40)', 'rgb(148, 103, 189)', 'rgb(140, 86, 75)',
        'rgb(227, 119, 194)', 'rgb(127, 127, 127)', 'rgb(188, 189, 34)',
        'rgb(23, 190, 207)'
    ];

    const BANDWIDTH = null; // Auto-calculate

    // Kernel density estimation function
    function kernelDensity(values, bandwidth) {
        // Use Silverman's rule of thumb if bandwidth not specified
        if (!bandwidth) {
            const n = values.length;
            const std = Math.sqrt(values.reduce((sum, x, i, arr) => {
                const mean = arr.reduce((a, b) => a + b, 0) / n;
                return sum + Math.pow(x - mean, 2);
            }, 0) / n);
            bandwidth = 1.06 * std * Math.pow(n, -0.2);
        }

        const min = Math.min(...values);
        const max = Math.max(...values);
        const range = max - min;
        const points = 200;
        const step = range / points;

        const x = [];
        const y = [];

        for (let i = 0; i <= points; i++) {
            const xi = min - range * 0.1 + (range * 1.2) * i / points;
            x.push(xi);

            let density = 0;
            for (let j = 0; j < values.length; j++) {
                const u = (xi - values[j]) / bandwidth;
                // Gaussian kernel
                density += Math.exp(-0.5 * u * u) / Math.sqrt(2 * Math.PI);
            }
            y.push(density / (values.length * bandwidth));
        }

        return {x: x, y: y};
    }

    const getCol = (id, def) => { const el = document.getElementById(id); return el ? el.value : def; };

    function createDensityTraces(data, VALUE_COL, GROUP_COL, BANDWIDTH, xaxis='x', yaxis='y', showlegend=true) {
        const traces = [];

        if (GROUP_COL) {
            // Group data by group column
            const groups = {};
            data.forEach(function(row) {
                const key = row[GROUP_COL];
                if (!groups[key]) groups[key] = [];
                groups[key].push(row);
            });

            const groupKeys = Object.keys(groups);

            groupKeys.forEach(function(key, idx) {
                const groupData = groups[key];
                const values = groupData.map(d => parseFloat(d[VALUE_COL])).filter(v => !isNaN(v));

                if (values.length > 0) {
                    const kde = kernelDensity(values, BANDWIDTH);

                    traces.push({
                        x: kde.x,
                        y: kde.y,
                        name: key,
                        type: 'scatter',
                        mode: 'lines',
                        fill: 'tozeroy',
                        line: {
                            color: plotlyColors[idx % plotlyColors.length],
                            width: 2
                        },
                        fillcolor: plotlyColors[idx % plotlyColors.length].replace('rgb', 'rgba').replace(')', ', 0.6)'),
                        xaxis: xaxis,
                        yaxis: yaxis,
                        showlegend: showlegend,
                        legendgroup: key
                    });
                }
            });
        } else {
            // Single group
            const values = data.map(d => parseFloat(d[VALUE_COL])).filter(v => !isNaN(v));

            if (values.length > 0) {
                const kde = kernelDensity(values, BANDWIDTH);

                traces.push({
                    x: kde.x,
                    y: kde.y,
                    name: 'Density',
                    type: 'scatter',
                    mode: 'lines',
                    fill: 'tozeroy',
                    line: {
                        color: 'rgb(31, 119, 180)',
                        width: 2
                    },
                    fillcolor: 'rgba(31, 119, 180, 0.6)',
                    xaxis: xaxis,
                    yaxis: yaxis,
                    showlegend: false
                });
            }
        }

        return traces;
    }

    function renderNoFacets(data, VALUE_COL, GROUP_COL, BANDWIDTH) {
        const traces = createDensityTraces(data, VALUE_COL, GROUP_COL, BANDWIDTH);

        const valueLabel = VALUE_COL;
        Plotly.newPlot('sample_chart', traces, {
            title: 'Sample Distribution',
            showlegend: GROUP_COL !== null,
            autosize: true,
            hovermode: 'closest',
            xaxis: {
                title: valueLabel,
                showgrid: true,
                zeroline: true
            },
            yaxis: {
                title: 'Density',
                showgrid: true,
                zeroline: true
            },
            margin: {t: 100, r: 50, b: 100, l: 80}
        }, {responsive: true});
    }

    function renderFacetWrap(data, VALUE_COL, GROUP_COL, FACET_COL, BANDWIDTH) {
        const facetValues = [...new Set(data.map(row => row[FACET_COL]))].sort();
        const nFacets = facetValues.length;
        const cols = Math.ceil(Math.sqrt(nFacets));
        const rows = Math.ceil(nFacets / cols);
        const traces = [];

        facetValues.forEach((facetVal, idx) => {
            const facetData = data.filter(row => row[FACET_COL] === facetVal);
            const xaxis = idx === 0 ? 'x' : 'x' + (idx + 1);
            const yaxis = idx === 0 ? 'y' : 'y' + (idx + 1);
            traces.push(...createDensityTraces(facetData, VALUE_COL, GROUP_COL, BANDWIDTH, xaxis, yaxis, idx === 0));
        });

        const valueLabel = VALUE_COL;
        const layout = {
            title: 'Sample Distribution',
            showlegend: GROUP_COL !== null,
            grid: {rows: rows, columns: cols, pattern: 'independent'},
            annotations: facetValues.map((val, idx) => ({
                text: FACET_COL + ': ' + val,
                showarrow: false,
                xref: (idx === 0 ? 'x' : 'x' + (idx + 1)) + ' domain',
                yref: (idx === 0 ? 'y' : 'y' + (idx + 1)) + ' domain',
                x: 0.5,
                y: 1.1,
                xanchor: 'center',
                yanchor: 'bottom'
            })),
            margin: {t: 100, r: 50, b: 50, l: 50}
        };

        facetValues.forEach((val, idx) => {
            const ax = idx === 0 ? '' : (idx + 1);
            layout['xaxis' + ax] = {title: valueLabel};
            layout['yaxis' + ax] = {title: 'Density'};
        });

        Plotly.newPlot('sample_chart', traces, layout, {responsive: true});
    }

    function renderFacetGrid(data, VALUE_COL, GROUP_COL, FACET1_COL, FACET2_COL, BANDWIDTH) {
        const facet1Values = [...new Set(data.map(row => row[FACET1_COL]))].sort();
        const facet2Values = [...new Set(data.map(row => row[FACET2_COL]))].sort();
        const rows = facet1Values.length;
        const cols = facet2Values.length;
        const traces = [];

        facet1Values.forEach((facet1Val, rowIdx) => {
            facet2Values.forEach((facet2Val, colIdx) => {
                const facetData = data.filter(row =>
                    row[FACET1_COL] === facet1Val && row[FACET2_COL] === facet2Val
                );

                if (facetData.length === 0) return;

                const idx = rowIdx * cols + colIdx;
                const xaxis = idx === 0 ? 'x' : 'x' + (idx + 1);
                const yaxis = idx === 0 ? 'y' : 'y' + (idx + 1);
                traces.push(...createDensityTraces(facetData, VALUE_COL, GROUP_COL, BANDWIDTH, xaxis, yaxis, idx === 0));
            });
        });

        const valueLabel = VALUE_COL;
        const layout = {
            title: 'Sample Distribution',
            showlegend: GROUP_COL !== null,
            grid: {rows: rows, columns: cols, pattern: 'independent'},
            annotations: [
                ...facet2Values.map((val, colIdx) => ({
                    text: FACET2_COL + ': ' + val,
                    showarrow: false,
                    xref: (colIdx === 0 ? 'x' : 'x' + (colIdx + 1)) + ' domain',
                    yref: (colIdx === 0 ? 'y' : 'y' + (colIdx + 1)) + ' domain',
                    x: 0.5,
                    y: 1.1,
                    xanchor: 'center',
                    yanchor: 'bottom'
                })),
                ...facet1Values.map((val, rowIdx) => ({
                    text: FACET1_COL + ': ' + val,
                    showarrow: false,
                    xref: (rowIdx * cols === 0 ? 'x' : 'x' + (rowIdx * cols + 1)) + ' domain',
                    yref: (rowIdx * cols === 0 ? 'y' : 'y' + (rowIdx * cols + 1)) + ' domain',
                    x: -0.15,
                    y: 0.5,
                    xanchor: 'center',
                    yanchor: 'middle',
                    textangle: -90
                }))
            ],
            margin: {t: 100, r: 50, b: 50, l: 50}
        };

        facet1Values.forEach((v1, rowIdx) => {
            facet2Values.forEach((v2, colIdx) => {
                const idx = rowIdx * cols + colIdx;
                const ax = idx === 0 ? '' : (idx + 1);
                layout['xaxis' + ax] = {title: valueLabel};
                layout['yaxis' + ax] = {title: 'Density'};
            });
        });

        Plotly.newPlot('sample_chart', traces, layout, {responsive: true});
    }

    function updatePlot_sample_chart(data) {
        // Get current value column from dropdown or use default
        const VALUE_COL = 'value';

        // Get current group column from dropdown or use default
        let GROUP_COL = 'category';

        // Handle "None" option for group selector
        if (GROUP_COL === '_none_') {
            GROUP_COL = null;
        }

        // Get bandwidth from slider (0 means auto)
        const bandwidthSlider = document.getElementById('sample_chart_bandwidth_slider');
        const BANDWIDTH = bandwidthSlider ? parseFloat(bandwidthSlider.value) : 0.0;

        let FACET1 = getCol('facet1_select_sample_chart', null);
        let FACET2 = getCol('facet2_select_sample_chart', null);
        if (FACET1 === 'None') FACET1 = null;
        if (FACET2 === 'None') FACET2 = null;

        if (FACET1 && FACET2) {
            renderFacetGrid(data, VALUE_COL, GROUP_COL, FACET1, FACET2, BANDWIDTH);
        } else if (FACET1) {
            renderFacetWrap(data, VALUE_COL, GROUP_COL, FACET1, BANDWIDTH);
        } else {
            renderNoFacets(data, VALUE_COL, GROUP_COL, BANDWIDTH);
        }
    }

    window.updateChart_sample_chart = () => updatePlotWithFilters_sample_chart();
        function updatePlotWithFilters_sample_chart() {
        updatePlot_sample_chart(window.allData_sample_chart);
    }


    // Load and parse CSV data using centralized parser
    loadDataset('df').then(function(data) {
        window.allData_sample_chart = data;

        // Initialize sliders after data is loaded
        $(function() {
            

            

            

                document.getElementById('sample_chart_bandwidth_slider').addEventListener('input', function() {
        var bw = parseFloat(this.value);
        document.getElementById('sample_chart_bandwidth_label').textContent = bw === 0 ? 'auto' : bw.toFixed(2);
        updateChart_sample_chart();
    });


            // Initial plot
            updatePlotWithFilters_sample_chart();
        });
    }).catch(function(error) {
        console.error('Error loading data for chart sample_chart:', error);
    });
    })();


});
</script>

<!-- DATASETS -->

<script type="text/plain" id="df" data-format="parquet" data-src="data/df.parquet"></script>

<!-- ACTUAL CONTENT -->

<h1></h1>
<p></p>

    <div class="textblock-content">
        <div style="display: flex; align-items: center; justify-content: space-between; background-color: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
    <div style="flex: 1;">
        <h1 style="margin: 0; color: #2c3e50;">TuxCorp Analytics</h1>
        <p style="margin: 5px 0 0 0; color: #7f8c8d;">Data-Driven Insights for Better Decisions</p>
    </div>
    <div style="flex: 0 0 auto;">
        <img src="pictures/logo.jpeg" alt="logo" />
    </div>
</div>

    </div>
<br>
<hr>
<br>
    <div class="textblock-content">
        <h2>Product Showcase</h2>
<p>Welcome to our product showcase. Here we demonstrate our flagship products:</p>

<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
    <div style="border: 1px solid #ddd; padding: 15px; border-radius: 8px;">
        <h3>Product A</h3>
        <img src="pictures/product_a.jpeg" alt="product_a" />
        <p>Our premium offering with advanced features.</p>
    </div>
    <div style="border: 1px solid #ddd; padding: 15px; border-radius: 8px;">
        <h3>Product B</h3>
        <img src="pictures/product_b.jpeg" alt="product_b" />
        <p>The essential solution for everyday needs.</p>
    </div>
</div>

    </div>
<br>
<hr>
<br>
    <div class="textblock-content">
        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; border-radius: 10px; margin-bottom: 30px;">
    <div style="display: flex; align-items: center; gap: 20px;">
        <div style="flex: 0 0 auto;">
            <img src="pictures/company_icon.jpeg" alt="company_icon" />
        </div>
        <div style="flex: 1;">
            <h1 style="margin: 0; font-size: 2.5em;">Q4 2024 Performance Report</h1>
            <p style="margin: 10px 0 0 0; font-size: 1.2em; opacity: 0.9;">Comprehensive Analysis & Insights</p>
        </div>
    </div>
</div>

    </div>
<br>
<hr>
<br>
    <div class="textblock-content">
        <h2>About Our Mascot</h2>
<div style="display: flex; align-items: start; gap: 20px;">
    <div style="flex: 0 0 200px;">
        <img src="pictures/mascot.jpeg" alt="mascot" />
    </div>
    <div style="flex: 1;">
        <p>Meet Tux, our beloved mascot! Tux has been representing our company since its inception, embodying the values of openness, collaboration, and innovation that drive our mission.</p>
        <p>As the face of our brand, Tux appears in all our marketing materials and serves as a constant reminder of our commitment to excellence and community.</p>
    </div>
</div>

    </div>
<br>
<hr>
<br>
<h2>Sample Distribution</h2>
<p>This chart demonstrates how TextBlocks with images integrate with regular charts</p>





<!-- Chart -->
<div id="sample_chart"></div>

<!-- Bandwidth slider below chart -->
<div style="margin: 20px 0;">
    <label for="sample_chart_bandwidth_slider">Bandwidth: </label>
    <span id="sample_chart_bandwidth_label">auto</span>
    <input type="range" id="sample_chart_bandwidth_slider"
           min="0"
           max="5"
           step="0.1"
           value="0.0"
           style="width: 300px; margin-left: 10px;">
    <span style="margin-left: 10px; color: #666; font-size: 0.9em;">(0 = auto)</span>
</div>

<br><p style="text-align: right; font-size: 0.8em; color: #666; margin-top: -10px; margin-bottom: 10px;">Data: df.parquet</p><br>
<hr>
<br>
    <div class="textblock-content">
        <h2>Traditional Text Block</h2>
<p>This is a traditional TextBlock without any images, demonstrating backward compatibility.</p>
<ul>
    <li>Works exactly as before</li>
    <li>No breaking changes</li>
    <li>Simple and straightforward</li>
</ul>

    </div>
<br>
<hr>
<br>
    <div class="textblock-content">
        <h2>Summary</h2>
<p>This example demonstrates the enhanced TextBlock feature that now supports embedded images:</p>
<ul>
    <li><strong>Flexible Image Placement:</strong> Place images anywhere in your HTML using {{IMAGE:id}} syntax</li>
    <li><strong>Multiple Images:</strong> Include as many images as needed in a single TextBlock</li>
    <li><strong>Responsive Design:</strong> Images work with both embedded and external data formats</li>
    <li><strong>Backward Compatible:</strong> Existing TextBlocks without images continue to work unchanged</li>
</ul>
<p><em>Perfect for creating professional reports with logos, product images, and visual branding!</em></p>

    </div>


<hr><p align="right"><small>This page was created using <a href="https://github.com/s-baumann/JSPlots.jl">JSPlots.jl</a>.</small></p>
</body>
</html>
